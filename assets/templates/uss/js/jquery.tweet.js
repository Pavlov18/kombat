!function(t){t.fn.tweet=function(e){function a(t){return Date.parse(t.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3"))}function n(t){var e=a(t),n=arguments.length>1?arguments[1]:new Date,r=parseInt((n.getTime()-e)/1e3),i="";return i=60>r?r+" seconds ago":120>r?"a minute ago":2700>r?parseInt(r/60,10).toString()+" minutes ago":7200>r?"an hour ago":86400>r?""+parseInt(r/3600,10).toString()+" hours ago":172800>r?"a day ago":parseInt(r/86400,10).toString()+" days ago","about "+i}function r(){var t="https:"==document.location.protocol?"https:":"http:";if(i.list)return t+"//api.twitter.com/1/"+i.username[0]+"/lists/"+i.list+"/statuses.json?per_page="+i.count+"&callback=?";if(null==i.query&&1==i.username.length)return t+"//api.twitter.com/1/statuses/user_timeline.json?screen_name="+i.username[0]+"&count="+i.count+"&include_rts=1&callback=?";var e=i.query||"from:"+i.username.join(" OR from:");return t+"//search.twitter.com/search.json?&q="+encodeURIComponent(e)+"&rpp="+i.count+"&callback=?"}var i={username:["seaofclouds"],list:null,avatar_size:null,count:3,intro_text:null,outro_text:null,join_text:null,auto_join_text_default:"i said,",auto_join_text_ed:"i",auto_join_text_ing:"i am",auto_join_text_reply:"i replied to",auto_join_text_url:"i was looking at",loading_text:null,query:null,refresh_interval:null};return e&&t.extend(i,e),t.fn.extend({linkUrl:function(){var e=[],a=/((ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?)/gi;return this.each(function(){e.push(this.replace(a,'<a href="$1">$1</a>'))}),t(e)},linkUser:function(){var e=[],a=/[\@]+([A-Za-z0-9-_]+)/gi;return this.each(function(){e.push(this.replace(a,'<a href="http://twitter.com/$1">@$1</a>'))}),t(e)},linkHash:function(){var e=[],a=/(?:^| )[\#]+([A-Za-z0-9-_]+)/gi;return this.each(function(){e.push(this.replace(a,' <a href="http://search.twitter.com/search?q=&tag=$1&lang=all&from='+i.username.join("%2BOR%2B")+'">#$1</a>'))}),t(e)},capAwesome:function(){var e=[];return this.each(function(){e.push(this.replace(/\b(awesome)\b/gi,'<span class="awesome">$1</span>'))}),t(e)},capEpic:function(){var e=[];return this.each(function(){e.push(this.replace(/\b(epic)\b/gi,'<span class="epic">$1</span>'))}),t(e)},makeHeart:function(){var e=[];return this.each(function(){e.push(this.replace(/(&lt;)+[3]/gi,"<tt class='heart'>&#x2665;</tt>"))}),t(e)}}),this.each(function(e,a){var s=t('<ul class="tweet_list">').appendTo(a),o='<p class="tweet_intro">'+i.intro_text+"</p>",l='<p class="tweet_outro">'+i.outro_text+"</p>",u=t('<p class="loading">'+i.loading_text+"</p>");"string"==typeof i.username&&(i.username=[i.username]),i.loading_text&&t(a).append(u),t(a).bind("load",function(){t.getJSON(r(),function(e){i.loading_text&&u.remove(),i.intro_text&&s.before(o),s.empty();var r=e.results||e;t.each(r,function(e,a){if("auto"==i.join_text)if(a.text.match(/^(@([A-Za-z0-9-_]+)) .*/i))var r=i.auto_join_text_reply;else if(a.text.match(/(^\w+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+) .*/i))var r=i.auto_join_text_url;else if(a.text.match(/^((\w+ed)|just) .*/im))var r=i.auto_join_text_ed;else if(a.text.match(/^(\w*ing) .*/i))var r=i.auto_join_text_ing;else var r=i.auto_join_text_default;else var r=i.join_text;var o=a.from_user||a.user.screen_name,l=a.profile_image_url||a.user.profile_image_url,u='<span class="tweet_join"> '+r+" </span>",c=i.join_text?u:" ",_='<a class="tweet_avatar" href="http://twitter.com/'+o+'"><img src="'+l+'" height="'+i.avatar_size+'" width="'+i.avatar_size+'" alt="'+o+'\'s avatar" title="'+o+'\'s avatar" border="0"/></a>',p=i.avatar_size?_:"",h='<span class="tweet_time"><a href="http://twitter.com/'+o+"/statuses/"+a.id+'" title="view tweet on twitter">'+n(a.created_at)+"</a></span>",f='<span class="tweet_text">'+t([a.text]).linkUrl().linkUser().linkHash().makeHeart().capAwesome().capEpic()[0]+"</span>";s.append("<li>"+p+c+f+h+"</li>"),s.children("li:first").addClass("tweet_first"),s.children("li:odd").addClass("tweet_even"),s.children("li:even").addClass("tweet_odd")}),i.outro_text&&s.after(l),t(a).trigger("loaded").trigger(0==r.length?"empty":"full"),i.refresh_interval&&window.setTimeout(function(){t(a).trigger("load")},1e3*i.refresh_interval)})}).trigger("load")})}}(jQuery);